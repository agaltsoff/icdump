# icdump

Выгрузка начального состояния изменений конфигурации 1С типовыми средствами 

**Цель**

После изменения объектов перед их выгрузкой в репозиторий помещать в Git их выгрузку без изменений,
        чтобы после помещения выгрузки с изменениями их можно было сравнить с оригиналами,
        не выгружая в Git всю конфигурацию.
        
**Термины и определения**

Имя|Описание
---|---
Эталон|Конфигурация 1С, подключённая к хранилищу конфигураций, которая только обовляется из хранилища.
Разработка|База для разработки, подключённая к хранилищу, которая обновляется из хранилища и в которой разработчик изменяет объекты.

**ОПИСАНИЕ ФАЙЛОВ**

N|Имя файла|Описание
---|---|---
1.| init_master|          Выгружает эталон 
2.| update_master|        Выгружает изменения эталона 
3.| precommit|            Выгружает различия между разработкой и эталоном
4.| master_repo|          Файлы, которые есть в выгрузке разработки, но нет в репозитории, копирует из выгрузки эталона в репозиторий.
5.| update_repo|          Копирует файлы из выгрузки разработки в репозиторий
6.| readme.md|            Этот файл

**ПОРЯДОК РАБОТЫ**

|Действие|Команда|Результат
|---|---|---|
|**Перед началом работы**|
| Выгрузить эталон|                     init_master|             Начальная выгрузка эталона|
|**После захвата и изменения объектов**
|Обновить выгрузку эталона|            update_master|           В выгрузке эталона изменения сделанные другими во время изменения объектов|
| Выгрузить разработку|                 precommit|               В выгрузке разработки изменённые объекты|
| Обновить эталон в репозитории|        master_repo|             Оригиналы изменённых объектов в репозитории|
| Git Commit||                                                   Оригиналы изменённых объектов в Git|
| Обновить разработку в репозитории|    update_repo|             Изменённые объекты в репозитории|
| Git Commit||                                                   Изменённые объекты в Git|


Таким образом при каждой выгрузке, когда появились новые изменённые объекты, сначала в Git будут выгружены
их оригиналы, затем их изменения. В результате можно будет сравнивать изменения с оригиналами, 
не выгружая в Git всю конфигурацию.


**Примечание**

Работало в 8.3.13, в 8.3.12 precommit выгружает ВСЮ конфигурацию, хотя в файлах ConfigDumpInfo.xml
Kdiff3 показывает различия только в нескольких строках реально изменённых объектов.
